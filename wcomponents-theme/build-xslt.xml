<project name="BuildXslt" default="build" >
	<import file="build-import.xml"/>

	<target name="build"
		description="Copies XSLT artifacts">
		<!--
			NOTE: we use two copies here to ensure output order.
			TODO: remove theme XSLT override.
		-->
		<copy todir="${target.rootdir}/xslt" overwrite="true">
			<fileset dir="${theme.core.dir}/src/main/xslt" includes="*.xsl" />
			<filterchain>
				<expandproperties/>
			</filterchain>
		</copy>
		<copy file="${target.rootdir}/xslt/all.xsl"
			tofile="${target.rootdir}/xslt/all_debug.xsl"/>
		<replaceregexp file="${target.rootdir}/xslt/all_debug.xsl"
			match="xsl:param name=&quot;isDebug&quot; select=&quot;0&quot;"
			replace="xsl:param name=&quot;isDebug&quot; select=&quot;1&quot;"/>
		<echo level="verbose" message="Done XSLT"/>
	</target>
</project>
