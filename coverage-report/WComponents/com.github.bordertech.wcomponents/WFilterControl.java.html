<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../resources/report.gif" type="image/gif"/><title>WFilterControl.java</title><link rel="stylesheet" href="../../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">WComponents Coverage</a> &gt; <a href="../index.html" class="el_bundle">WComponents</a> &gt; <a href="index.source.html" class="el_package">com.github.bordertech.wcomponents</a> &gt; <span class="el_source">WFilterControl.java</span></div><h1>WFilterControl.java</h1><pre class="source lang-java linenums">package com.github.bordertech.wcomponents;

/**
 * The WFilterControl lets the user filter data within a {@link WDataTable} component. The filtering occurs client-side,
 * based on text matching.
 *
 * @author Jonathan Austin
 * @since 1.0.0
 * @deprecated {@link WDataTable} is deprecated, WFilterControl does not apply to {@link WTable} which _must_ be
 *  filtered using AJAX if filtering is required; {@link WDataTable} filtering _should_ be done using AJAX.
 */
public class WFilterControl extends AbstractContainer implements AjaxTarget {

	/**
	 * The label for the filter.
	 */
	private final WDecoratedLabel filterLabel;

	/**
	 * Create a WFilterControl with a label.
	 *
	 * @param filterLabel the label for this filter control
	 */
<span class="fc" id="L24">	public WFilterControl(final WDecoratedLabel filterLabel) {</span>
<span class="fc bfc" id="L25" title="All 2 branches covered.">		if (filterLabel == null) {</span>
<span class="fc" id="L26">			throw new IllegalArgumentException(&quot;A filter label must be provided.&quot;);</span>
		}

<span class="fc" id="L29">		this.filterLabel = filterLabel;</span>
<span class="fc" id="L30">		this.add(filterLabel);</span>
<span class="fc" id="L31">	}</span>

	/**
	 * Create a WFilterControl with a label, target and value.
	 *
	 * @param filterLabel the label for this filter control
	 * @param target the target component
	 * @param value the value of this filter control
	 */
	public WFilterControl(final WDecoratedLabel filterLabel, final WComponent target,
			final String value) {
<span class="fc" id="L42">		this(filterLabel);</span>
<span class="fc" id="L43">		getComponentModel().target = target;</span>
<span class="fc" id="L44">		getComponentModel().value = value;</span>
<span class="fc" id="L45">	}</span>

	/**
	 * Override handleRequest in order to implement processing specific to this component.
	 *
	 * @param request the request being responded to.
	 */
	@Override
	public void handleRequest(final Request request) {
<span class="fc bfc" id="L54" title="All 2 branches covered.">		if (request.getParameter(getId()) != null) {</span>
<span class="fc" id="L55">			boolean active = request.getParameter(getId()).equals(&quot;true&quot;);</span>
<span class="fc" id="L56">			setActive(active);</span>
		}
<span class="fc" id="L58">	}</span>

	/**
	 * Gets the label for filter control.
	 *
	 * @return the label for the filter control
	 */
	public WDecoratedLabel getFilterLabel() {
<span class="fc" id="L66">		return filterLabel;</span>
	}

	/**
	 * Retrieves the filter target.
	 *
	 * @return the filter target
	 */
	public WComponent getTarget() {
<span class="fc" id="L75">		return getComponentModel().target;</span>
	}

	/**
	 * Sets the filter target.
	 *
	 * @param target the filter target
	 */
	public void setTarget(final WComponent target) {
<span class="fc" id="L84">		getOrCreateComponentModel().target = target;</span>
<span class="fc" id="L85">	}</span>

	/**
	 * Gets the default filter value.
	 *
	 * @return the default filter value
	 */
	public String getValue() {
<span class="fc" id="L93">		return getComponentModel().value;</span>
	}

	/**
	 * Sets the filter value.
	 *
	 * @param value the filter value
	 */
	public void setValue(final String value) {
<span class="fc" id="L102">		getOrCreateComponentModel().value = value;</span>
<span class="fc" id="L103">	}</span>

	/**
	 * Retrieves the active state for the filter.
	 *
	 * @return true if the filter is active
	 */
	public boolean isActive() {
<span class="fc" id="L111">		return getComponentModel().active;</span>
	}

	/**
	 * Sets the active state of the filter.
	 *
	 * @param active the state of the filter
	 */
	public void setActive(final boolean active) {
<span class="fc" id="L120">		getOrCreateComponentModel().active = active;</span>
<span class="fc" id="L121">	}</span>

	/**
	 * @return a String representation of this component, for debugging purposes.
	 */
	@Override
	public String toString() {
<span class="nc" id="L128">		String text = filterLabel.getText();</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">		text = text == null ? &quot;null&quot; : ('&quot;' + text + '&quot;');</span>
<span class="nc" id="L130">		return toString(text, -1, -1);</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override // For type safety only
	protected FilterControlModel getComponentModel() {
<span class="fc" id="L138">		return (FilterControlModel) super.getComponentModel();</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override // For type safety only
	protected FilterControlModel getOrCreateComponentModel() {
<span class="fc" id="L146">		return (FilterControlModel) super.getOrCreateComponentModel();</span>
	}

	/**
	 * Creates a new component model appropriate for this component.
	 *
	 * @return a new FilterControlModel.
	 */
	@Override
	protected FilterControlModel newComponentModel() {
<span class="fc" id="L156">		return new FilterControlModel();</span>
	}

	/**
	 * A class used to hold the state for this component.
	 *
	 * @author Jonathan Austin
	 */
<span class="fc" id="L164">	public static class FilterControlModel extends ComponentModel {</span>

		/**
		 * The target of the filter.
		 */
		private WComponent target;
		/**
		 * The value of the filter.
		 */
		private String value;
		/**
		 * Active state of filter.
		 */
		private boolean active;
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>