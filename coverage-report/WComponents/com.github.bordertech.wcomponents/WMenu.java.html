<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../resources/report.gif" type="image/gif"/><title>WMenu.java</title><link rel="stylesheet" href="../../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">WComponents Coverage</a> &gt; <a href="../index.html" class="el_bundle">WComponents</a> &gt; <a href="index.source.html" class="el_package">com.github.bordertech.wcomponents</a> &gt; <span class="el_source">WMenu.java</span></div><h1>WMenu.java</h1><pre class="source lang-java linenums">package com.github.bordertech.wcomponents;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/**
 * &lt;p&gt;
 * This component enables rendering of a menuing system for an application. A menu bar consists of a collection of
 * either &quot;Menu Items&quot; (see {@link WMenuItem} or &quot;Sub Menus&quot; (see {@link WSubMenu}).&lt;/p&gt;
 *
 * @author Adam Millard
 * @author Yiannis Paschalidis
 * @author Jonathan Austin
 * @since 1.0.0
 */
public class WMenu extends AbstractNamingContextContainer implements Disableable, AjaxTarget,
		Marginable, MenuSelectContainer {

	/**
	 * The available types of client-side menus.
	 *
	 * @author Yiannis Paschalidis
	 */
<span class="pc" id="L25">	public enum MenuType {</span>
		/**
		 * The menu is displayed as a horizontal bar, similar to menu bars in desktop applications.
		 */
<span class="fc" id="L29">		BAR,</span>
		/**
		 * The menu is displayed as a series of buttons. This is most commonly used to display a single submenu as a
		 * button.
		 */
<span class="fc" id="L34">		FLYOUT,</span>
		/**
		 * The menu is displayed as a tree structure.
		 */
<span class="fc" id="L38">		TREE,</span>
		/**
		 * The menu is displayed columns from left to right. This menu type supports multiple selections of menu items
		 * and sub-menus.
		 */
<span class="fc" id="L43">		COLUMN</span>
	};

	/**
	 * The available types of selection mode for the items in a menu.
	 *
	 * @deprecated Use {@link MenuSelectContainer#getSelectionMode()} instead.
	 */
<span class="pc" id="L51">	@Deprecated</span>
<span class="fc" id="L52">	public enum SelectMode {</span>
		/**
		 * No items can be selected.
		 */
<span class="fc" id="L56">		NONE,</span>
		/**
		 * A single item can be selected.
		 */
<span class="fc" id="L60">		SINGLE,</span>
		/**
		 * Multiple items can be selected.
		 */
<span class="fc" id="L64">		MULTIPLE</span>
	};

	/**
	 * The type of menu.
	 */
	private final MenuType type;

	/**
	 * Hold the menu's items.
	 */
<span class="fc" id="L75">	private final WContainer content = new WContainer();</span>

	/**
	 * Creates a WMenu which is displayed as a menu bar.
	 */
	public WMenu() {
<span class="fc" id="L81">		this(MenuType.BAR);</span>
<span class="fc" id="L82">	}</span>

	/**
	 * Creates a WMenu of the given type.
	 *
	 * @param type the type of WMenu to create.
	 */
<span class="fc" id="L89">	public WMenu(final MenuType type) {</span>
<span class="fc" id="L90">		this.type = type;</span>
<span class="fc" id="L91">		add(content);</span>
<span class="fc" id="L92">	}</span>

	/**
	 * @return the menu type.
	 */
	public MenuType getType() {
<span class="fc" id="L98">		return type;</span>
	}

	/**
	 * @return the number of rows to display for a column menu.
	 */
	public int getRows() {
<span class="fc" id="L105">		return getComponentModel().rows;</span>
	}

	/**
	 * Sets the number of rows to display for a column menu.
	 *
	 * @param rows The rows to set.
	 */
	public void setRows(final int rows) {
<span class="fc" id="L114">		getOrCreateComponentModel().rows = rows;</span>
<span class="fc" id="L115">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public Margin getMargin() {
<span class="fc" id="L122">		return getComponentModel().margin;</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public void setMargin(final Margin margin) {
<span class="fc" id="L130">		getOrCreateComponentModel().margin = margin;</span>
<span class="fc" id="L131">	}</span>

	/**
	 * @return the selection mode of the container
	 * @deprecated Use {@link #getSelectionMode()} instead.
	 */
	@Deprecated
	public SelectMode getSelectMode() {
<span class="pc bfc" id="L139" title="All 3 branches covered.">		switch (getSelectionMode()) {</span>
			case MULTIPLE:
<span class="fc" id="L141">				return SelectMode.MULTIPLE;</span>

			case SINGLE:
<span class="fc" id="L144">				return SelectMode.SINGLE;</span>
			default:
<span class="fc" id="L146">				return SelectMode.NONE;</span>
		}
	}

	/**
	 * @param selectMode the selection mode for the items in this menu container.
	 *
	 * @deprecated Use {@link #setSelectionMode(com.github.bordertech.wcomponents.MenuSelectContainer.SelectionMode)} instead.
	 */
	@Deprecated
	public void setSelectMode(final SelectMode selectMode) {
<span class="pc bpc" id="L157" title="1 of 2 branches missed.">		if (selectMode == null) {</span>
<span class="nc" id="L158">			setSelectionMode(null);</span>
		} else {
<span class="pc bpc" id="L160" title="1 of 3 branches missed.">			switch (selectMode) {</span>
				case MULTIPLE:
<span class="fc" id="L162">					setSelectionMode(SelectionMode.MULTIPLE);</span>
<span class="fc" id="L163">					break;</span>
				case SINGLE:
<span class="fc" id="L165">					setSelectionMode(SelectionMode.SINGLE);</span>
<span class="fc" id="L166">					break;</span>
				default:
<span class="nc" id="L168">					setSelectionMode(SelectionMode.NONE);</span>
			}
		}
<span class="fc" id="L171">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public SelectionMode getSelectionMode() {
<span class="fc" id="L178">		return getComponentModel().selectionMode;</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public void setSelectionMode(final SelectionMode selectionMode) {
<span class="pc bpc" id="L186" title="1 of 2 branches missed.">		getOrCreateComponentModel().selectionMode = selectionMode == null ? SelectionMode.NONE : selectionMode;</span>
<span class="fc" id="L187">	}</span>

	/**
	 * Indicates whether this menu is disabled.
	 *
	 * @return true if this menu is disabled.
	 */
	@Override
	public boolean isDisabled() {
<span class="fc" id="L196">		return isFlagSet(ComponentModel.DISABLED_FLAG);</span>
	}

	/**
	 * Sets whether this menu is disabled.
	 *
	 * @param disabled if true, the menu will be disabled.
	 */
	@Override
	public void setDisabled(final boolean disabled) {
<span class="fc" id="L206">		setFlag(ComponentModel.DISABLED_FLAG, disabled);</span>
<span class="fc" id="L207">	}</span>

	/**
	 * Adds a separator to the end of the menu.
	 */
	public void addSeparator() {
<span class="fc" id="L213">		addMenuItem(new WSeparator());</span>
<span class="fc" id="L214">	}</span>

	/**
	 * @param item add a {@link WSeparator}
	 */
	public void add(final WSeparator item) {
<span class="fc" id="L220">		addMenuItem(item);</span>
<span class="fc" id="L221">	}</span>

	/**
	 * @param item add a {@link WMenuItem}
	 */
	public void add(final WMenuItem item) {
<span class="fc" id="L227">		addMenuItem(item);</span>
<span class="fc" id="L228">	}</span>

	/**
	 * @param item add a {@link WMenuItemGroup}
	 * @deprecated menu groups are not compatible with WCAG 2.0.
	 */
	@Deprecated
	public void add(final WMenuItemGroup item) {
<span class="fc" id="L236">		addMenuItem(item);</span>
<span class="fc" id="L237">	}</span>

	/**
	 * @param item add a {@link WSubMenu}
	 */
	public void add(final WSubMenu item) {
<span class="fc" id="L243">		addMenuItem(item);</span>
<span class="fc" id="L244">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public void addMenuItem(final MenuItem item) {
<span class="fc" id="L251">		getContent().add(item);</span>
<span class="fc" id="L252">	}</span>

	/**
	 * {@inheritDoc}
	 *
	 * @deprecated Use {@link #removeMenuItem(com.github.bordertech.wcomponents.MenuItem)} instead.
	 */
	@Deprecated
	@Override
	public void remove(final WComponent item) {
<span class="nc bnc" id="L262" title="All 2 branches missed.">		if (item instanceof MenuItem) {</span>
<span class="nc" id="L263">			removeMenuItem((MenuItem) item);</span>
		}
<span class="nc" id="L265">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public void removeMenuItem(final MenuItem item) {
<span class="fc" id="L272">		getContent().remove(item);</span>
<span class="fc" id="L273">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public void removeAllMenuItems() {
<span class="fc" id="L280">		getContent().removeAll();</span>
<span class="fc" id="L281">	}</span>

	/**
	 * {@inheritDoc}
	 */
	@Override
	public List&lt;MenuItem&gt; getMenuItems() {
<span class="fc" id="L288">		List&lt;MenuItem&gt; items = new ArrayList(getContent().getChildren());</span>
<span class="fc" id="L289">		return Collections.unmodifiableList(items);</span>
	}

	/**
	 * @param recurse true if recurse into child items that are menu containers (ie group items and submenus).
	 * @return the list of menu items
	 */
	public List&lt;MenuItem&gt; getMenuItems(final boolean recurse) {
<span class="fc" id="L297">		List&lt;MenuItem&gt; items = new ArrayList();</span>
<span class="fc" id="L298">		getChildMenuItems(items, recurse, this);</span>
<span class="fc" id="L299">		return Collections.unmodifiableList(items);</span>
	}

	/**
	 * Returns the selected item (WMenUItem/WSubMenu, depending on the menu type) in the given context.
	 *
	 * @return the selected item, or null if no item has been selected.
	 * @deprecated Use {@link #getSelectedMenuItem()} instead.
	 */
	@Deprecated
	public WComponent getSelectedItem() {
<span class="fc" id="L310">		return getSelectedMenuItem();</span>
	}

	/**
	 * Sets the selected item (WMenuItem and/or WSubMenu, depending on the menu type).
	 *
	 * @param selectedItem the selected item.
	 * @deprecated Use {@link #setSelectedMenuItem(com.github.bordertech.wcomponents.MenuItemSelectable)} instead.
	 */
	@Deprecated
	public void setSelectedItem(final WComponent selectedItem) {
<span class="fc" id="L321">		setSelectedMenuItem((MenuItemSelectable) selectedItem);</span>
<span class="fc" id="L322">	}</span>

	/**
	 * Returns the selected items (WMenUItems/WSubMenus, depending on the menu type) in the given context.
	 *
	 * @return the selected items, or an empty list if nothing is selected.
	 * @deprecated Use {@link #getSelectedMenuItems()} instead.
	 */
	@Deprecated
	public List&lt;WComponent&gt; getSelectedItems() {
<span class="fc" id="L332">		List&lt;WComponent&gt; items = new ArrayList(getSelectedMenuItems());</span>
<span class="fc" id="L333">		return Collections.unmodifiableList(items);</span>
	}

	/**
	 * Sets the selected items (WMenuItems or WSubMenus, depending on the menu type).
	 *
	 * @param selectedItems the selected items.
	 * @deprecated Use {@link #setSelectedMenuItems(java.util.List)} instead.
	 */
	@Deprecated
	public void setSelectedItems(final List&lt;WComponent&gt; selectedItems) {
<span class="pc bpc" id="L344" title="2 of 4 branches missed.">		if (selectedItems == null || selectedItems.isEmpty()) {</span>
<span class="nc" id="L345">			setSelectedMenuItems(null);</span>
		} else {
<span class="fc" id="L347">			List&lt;MenuItemSelectable&gt; items = new ArrayList(selectedItems);</span>
<span class="fc" id="L348">			setSelectedMenuItems(items);</span>
		}
<span class="fc" id="L350">	}</span>

	/**
	 * Clears an existing list of selected items.
	 *
	 * @deprecated Use {@link #clearSelectedMenuItems()} instead.
	 */
	@Deprecated
	public void clearSelectedItems() {
<span class="fc" id="L359">		clearSelectedMenuItems();</span>
<span class="fc" id="L360">	}</span>

	/**
	 * Returns the selected item (WMenUItem/WSubMenu, depending on the menu type) in the given context.
	 *
	 * @return the selected item, or null if no item has been selected.
	 */
	public MenuItemSelectable getSelectedMenuItem() {
<span class="fc" id="L368">		List&lt;MenuItemSelectable&gt; selectedItems = getSelectedMenuItems();</span>
<span class="fc bfc" id="L369" title="All 2 branches covered.">		if (selectedItems.isEmpty()) {</span>
<span class="fc" id="L370">			return null;</span>
		} else {
<span class="fc" id="L372">			return selectedItems.get(0);</span>
		}
	}

	/**
	 * Sets the selected item (WMenuItem and/or WSubMenu, depending on the menu type).
	 *
	 * @param selectedItem the selected item.
	 */
	public void setSelectedMenuItem(final MenuItemSelectable selectedItem) {
<span class="fc" id="L382">		MenuModel model = getOrCreateComponentModel();</span>
<span class="pc bpc" id="L383" title="1 of 2 branches missed.">		if (selectedItem == null) {</span>
<span class="nc" id="L384">			model.selectedMenuItems = null;</span>
		} else {
<span class="fc bfc" id="L386" title="All 2 branches covered.">			if (model.selectedMenuItems == null) {</span>
<span class="fc" id="L387">				model.selectedMenuItems = new ArrayList&lt;&gt;();</span>
			} else {
<span class="fc" id="L389">				model.selectedMenuItems.clear();</span>
			}
<span class="fc" id="L391">			model.selectedMenuItems.add(selectedItem);</span>
		}
<span class="fc" id="L393">	}</span>

	/**
	 * Returns the selected items (WMenUItems/WSubMenus, depending on the menu type) in the given context.
	 *
	 * @return the selected items, or an empty list if nothing is selected.
	 */
	public List&lt;MenuItemSelectable&gt; getSelectedMenuItems() {
<span class="fc" id="L401">		List&lt;MenuItemSelectable&gt; selectedItems = getComponentModel().selectedMenuItems;</span>
<span class="pc bpc" id="L402" title="1 of 4 branches missed.">		if (selectedItems == null || selectedItems.isEmpty()) {</span>
<span class="fc" id="L403">			return Collections.emptyList();</span>
		} else {
<span class="fc" id="L405">			return Collections.unmodifiableList(selectedItems);</span>
		}
	}

	/**
	 * Sets the selected items (WMenuItems or WSubMenus, depending on the menu type).
	 *
	 * @param selectedItems the selected items.
	 */
	public void setSelectedMenuItems(final List&lt;? extends MenuItemSelectable&gt; selectedItems) {
<span class="fc" id="L415">		MenuModel model = getOrCreateComponentModel();</span>
<span class="pc bpc" id="L416" title="1 of 4 branches missed.">		if (selectedItems == null || selectedItems.isEmpty()) {</span>
<span class="fc" id="L417">			model.selectedMenuItems = null;</span>
		} else {
<span class="fc" id="L419">			model.selectedMenuItems = new ArrayList&lt;&gt;(selectedItems);</span>
		}
<span class="fc" id="L421">	}</span>

	/**
	 * Clears an existing list of selected items.
	 */
	public void clearSelectedMenuItems() {
<span class="fc" id="L427">		MenuModel model = getOrCreateComponentModel();</span>
<span class="fc" id="L428">		model.selectedMenuItems = null;</span>
<span class="fc" id="L429">	}</span>

	/**
	 * Override handleRequest in order to perform processing specific to WMenu.
	 *
	 * @param request the request being handled.
	 */
	@Override
	public void handleRequest(final Request request) {
<span class="fc bfc" id="L438" title="All 2 branches covered.">		if (isDisabled()) {</span>
			// Protect against client-side tampering of disabled/read-only fields.
<span class="fc" id="L440">			return;</span>
		}

<span class="fc bfc" id="L443" title="All 2 branches covered.">		if (isPresent(request)) {</span>
<span class="fc" id="L444">			List&lt;MenuItemSelectable&gt; selectedItems = new ArrayList&lt;&gt;();</span>
			// Unfortunately, we need to recurse through all the menu/sub-menus
<span class="fc" id="L446">			findSelections(request, this, selectedItems);</span>
<span class="fc" id="L447">			setSelectedMenuItems(selectedItems);</span>
		}
<span class="fc" id="L449">	}</span>

	/**
	 * Determine if this WMenu is on the Request.
	 *
	 * @param request the request being responded to.
	 * @return true if this WMenu is on the Request, otherwise return false.
	 */
	protected boolean isPresent(final Request request) {
<span class="fc bfc" id="L458" title="All 2 branches covered.">		return request.getParameter(getId() + &quot;-h&quot;) != null;</span>
	}

	/**
	 * Finds the selected items in a menu for a request.
	 *
	 * @param request the request being handled
	 * @param selectContainer the menu or sub-menu
	 * @param selections the current set of selections
	 */
	private void findSelections(final Request request, final MenuSelectContainer selectContainer,
			final List&lt;MenuItemSelectable&gt; selections) {

		// Don't bother checking disabled or invisible containers
<span class="pc bpc" id="L472" title="2 of 4 branches missed.">		if (!selectContainer.isVisible()</span>
<span class="fc bfc" id="L473" title="All 2 branches covered.">				|| (selectContainer instanceof Disableable &amp;&amp; ((Disableable) selectContainer).isDisabled())) {</span>
<span class="fc" id="L474">			return;</span>
		}

		// Get any selectable children of this container
<span class="fc" id="L478">		List&lt;MenuItemSelectable&gt; selectableItems = getSelectableItems(selectContainer);</span>

		// Now add the selections (if in the request)
<span class="fc bfc" id="L481" title="All 2 branches covered.">		for (MenuItemSelectable selectableItem : selectableItems) {</span>
			// Check if the item is on the request
<span class="pc bpc" id="L483" title="1 of 2 branches missed.">			if (request.getParameter(selectableItem.getId() + &quot;.selected&quot;) != null) {</span>
<span class="fc" id="L484">				selections.add(selectableItem);</span>
<span class="fc bfc" id="L485" title="All 2 branches covered.">				if (SelectionMode.SINGLE.equals(selectContainer.getSelectionMode())) {</span>
					// Only select the first item at this level.
					// We still need to check other levels of the menu for selection.
<span class="fc" id="L488">					break;</span>
				}
			}
<span class="fc" id="L491">		}</span>

		// We need to recurse through and check for other selectable containers
<span class="fc bfc" id="L494" title="All 2 branches covered.">		for (MenuItem item : selectContainer.getMenuItems()) {</span>
<span class="pc bpc" id="L495" title="1 of 2 branches missed.">			if (item instanceof MenuItemGroup) {</span>
<span class="nc bnc" id="L496" title="All 2 branches missed.">				for (MenuItem groupItem : ((MenuItemGroup) item).getMenuItems()) {</span>
<span class="nc bnc" id="L497" title="All 2 branches missed.">					if (groupItem instanceof MenuSelectContainer) {</span>
<span class="nc" id="L498">						findSelections(request, (MenuSelectContainer) groupItem, selections);</span>
					}
<span class="nc" id="L500">				}</span>
<span class="fc bfc" id="L501" title="All 2 branches covered.">			} else if (item instanceof MenuSelectContainer) {</span>
<span class="fc" id="L502">				findSelections(request, (MenuSelectContainer) item, selections);</span>
			}
<span class="fc" id="L504">		}</span>
<span class="fc" id="L505">	}</span>

	/**
	 * Retrieves the selectable items for the given container.
	 *
	 * @param selectContainer the component to search within.
	 * @return the list of selectable items for the given component. May be empty.
	 */
	private List&lt;MenuItemSelectable&gt; getSelectableItems(final MenuSelectContainer selectContainer) {
<span class="fc" id="L514">		List&lt;MenuItemSelectable&gt; result = new ArrayList&lt;&gt;(selectContainer.getMenuItems().size());</span>

<span class="fc" id="L516">		SelectionMode selectionMode = selectContainer.getSelectionMode();</span>

<span class="fc bfc" id="L518" title="All 2 branches covered.">		for (MenuItem item : selectContainer.getMenuItems()) {</span>
<span class="pc bpc" id="L519" title="1 of 2 branches missed.">			if (item instanceof MenuItemGroup) {</span>
<span class="nc bnc" id="L520" title="All 2 branches missed.">				for (MenuItem groupItem : ((MenuItemGroup) item).getMenuItems()) {</span>
<span class="nc bnc" id="L521" title="All 2 branches missed.">					if (isSelectable(groupItem, selectionMode)) {</span>
<span class="nc" id="L522">						result.add((MenuItemSelectable) groupItem);</span>
					}
<span class="nc" id="L524">				}</span>
<span class="fc bfc" id="L525" title="All 2 branches covered.">			} else if (isSelectable(item, selectionMode)) {</span>
<span class="fc" id="L526">				result.add((MenuItemSelectable) item);</span>
			}
<span class="fc" id="L528">		}</span>

<span class="fc" id="L530">		return result;</span>
	}

	/**
	 * Indicates whether the given menu item is selectable.
	 *
	 * @param item the menu item to check.
	 * @param selectionMode the select mode of the current menu/sub-menu
	 * @return true if the meu item is selectable, false otherwise.
	 */
	private boolean isSelectable(final MenuItem item, final SelectionMode selectionMode) {

<span class="pc bpc" id="L542" title="3 of 6 branches missed.">		if (!(item instanceof MenuItemSelectable) || !item.isVisible()</span>
<span class="fc bfc" id="L543" title="All 2 branches covered.">				|| (item instanceof Disableable &amp;&amp; ((Disableable) item).isDisabled())) {</span>
<span class="fc" id="L544">			return false;</span>
		}

		// SubMenus are only selectable in a column menu type
<span class="pc bpc" id="L548" title="1 of 4 branches missed.">		if (item instanceof WSubMenu &amp;&amp; !MenuType.COLUMN.equals(getType())) {</span>
<span class="fc" id="L549">			return false;</span>
		}

		// Item is specificially set to selectable/unselectable
<span class="fc" id="L553">		Boolean itemSelectable = ((MenuItemSelectable) item).getSelectability();</span>
<span class="fc bfc" id="L554" title="All 2 branches covered.">		if (itemSelectable != null) {</span>
<span class="fc" id="L555">			return itemSelectable;</span>
		}

		// Container has selection turned on
<span class="pc bpc" id="L559" title="1 of 4 branches missed.">		return SelectionMode.SINGLE.equals(selectionMode) || SelectionMode.MULTIPLE.equals(selectionMode);</span>

	}

	/**
	 * @param items the list of menu items
	 * @param recurse true if recurse into child items that are menu containers
	 * @param container the current container
	 */
	private void getChildMenuItems(final List&lt;MenuItem&gt; items, final boolean recurse, final MenuContainer container) {

<span class="fc bfc" id="L570" title="All 2 branches covered.">		for (MenuItem item : container.getMenuItems()) {</span>
<span class="fc" id="L571">			items.add(item);</span>
<span class="fc bfc" id="L572" title="All 4 branches covered.">			if (recurse &amp;&amp; item instanceof MenuContainer) {</span>
<span class="fc" id="L573">				getChildMenuItems(items, recurse, (MenuContainer) item);</span>
			}
<span class="fc" id="L575">		}</span>
<span class="fc" id="L576">	}</span>

	/**
	 * @return the container holding the menu items
	 */
	private WContainer getContent() {
<span class="fc" id="L582">		return content;</span>
	}

	/**
	 * Creates a new component model.
	 *
	 * @return a new MenuModel.
	 */
	@Override
	protected MenuModel newComponentModel() {
<span class="fc" id="L592">		return new MenuModel();</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	protected MenuModel getComponentModel() {
<span class="fc" id="L600">		return (MenuModel) super.getComponentModel();</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	protected MenuModel getOrCreateComponentModel() {
<span class="fc" id="L608">		return (MenuModel) super.getOrCreateComponentModel();</span>
	}

	/**
	 * Holds the state information for a WMenu.
	 *
	 * @author Yiannis Paschalidis
	 */
<span class="fc" id="L616">	public static class MenuModel extends ComponentModel {</span>

		/**
		 * The list of selected items.
		 */
		private List&lt;MenuItemSelectable&gt; selectedMenuItems;

		/**
		 * The select mode of the menu.
		 */
<span class="fc" id="L626">		private SelectionMode selectionMode = SelectionMode.NONE;</span>

		/**
		 * The number of rows to display for a column menu.
		 */
		private int rows;

		/**
		 * The margins to be used on the menu.
		 */
		private Margin margin;
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>